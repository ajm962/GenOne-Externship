About the project--

GOAL:
Our task was to build and install a security system for the GenOne office. Specifically, we were told that our project should include mechanical control over the office’s existing lock mechanism, as well as track the names of employees in the office in an entry log that can be accessed from anywhere.

BACKGROUND:
GenOne already had a single cylinder deadbolt on the inside of their front door. The components of our project were to automatically control and enhance this existing system. After being given the general premise of the project, we were given the freedom to brainstorm different approaches and investigate which would be the best/most stimulating for us. Overall, we researched radio frequency identification with RFID encryption, facial recognition, telecommunications and bluetooth. 

SUMMARY: 
Coming into this externship, we were told GenOne wanted a keyless locking system that could keep track of which employees were in and out of the office in an accessible manner. After researching systems already on the market, we identified four main ways we could go about fulfilling these requirements: RFID, keypad, bluetooth, or facial recognition. Although RFID seemed promising, sophisticated encryption would be needed in order to ensure the chips weren’t hackable, making it somewhat unrealistic given our experience and time constraint. Bluetooth also appeared relatively straight forward but after some research, we realized it would be difficult for the sensor to differentiate between multiple devices. Compared to other approaches, a keypad just seemed outdated—and not unimportantly, more onerous for the employee. We decided on facial recognition because of its ability to clearly distinguish users from one other while requiring little to no effort on the part of employees. As an added bonus, it presented clear opportunities to explore both backend functionality and hands-on configurement of a product. In our case, Emily engineered hardware components while Anna developed the software.
From an assembly perspective, the system can be deconstructed into three main modules (as seen below). One module is the gear system surrounding the existing lock. This includes two 3d-printed gears used to turn the lock, a motor, and limit switches used to determine the state of the deadbolt (locked or unlocked) and door (open or closed) at any given moment. Said parts are all contained within a custom encasement, uniquely designed to fit the dimensions of the existing lock. This case also holds a perf board connecting all the wires, which powers and delivers information to and from the various components. The inside Raspberry Pi (RPi) is the second module and primary server in our system. Since information from all the system’s components is processed here, the inside RPi runs the bulk of the software involved in this project. The last module, the “outside RPi,” is also located on the inside of the door and regulates the hall-facing camera. This camera is connected to the microprocessor using a long ribbon cable draped over the top of the door. 
On a software level, our machine vision security system utilizes microprocessors, circuity, and computer vision software from OpenCV to regulate employees’ entering and exiting the GenOne office. Two Raspberry Pi boards, both installed against the interior of the front door, detect and recognize the faces of employees approaching the office. If a known face is identified by the outside PiCamera, a message is sent to the inside RPi using serial communication containing the name(s) of those arriving. Instantaneously, the servomotor is signaled to unlock the deadbolt, allowing the employee to enter. A similar procedure is followed when an employee is leaving the office. If the inside PiCamera detects a face at a proximity close enough to constitute them trying to exit, the deadbolt is again unlocked. While this background code is running, the usage of the dropbox API allows real time updates to be made to an accessible entry log, tracking the status of employees in the office. As the videostream runs, the inside RPi camera is constantly analyzing the pixels of various freeze frames. When the lights are turned off at the end of the work day, the system recognizes darkness, resets the entry log, and locks the door behind the last leaving employee. All of this runs continuously and simultaneously, so that users do not have to wait at the door.
